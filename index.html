<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>will + jolene</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #1a4d1a 0%, #0d3d0d 50%, #002d00 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            text-align: center;
            max-width: 600px;
            width: 100%;
        }

        h1 {
            font-size: 64px;
            font-weight: 300;
            color: #ffffff;
            margin-bottom: 60px;
            letter-spacing: 2px;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 40px;
            max-width: 500px;
            width: 100%;
        }

        .option-button {
            background: #004d00;
            border: 2px solid #006400;
            border-radius: 12px;
            padding: 20px;
            font-size: 32px;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 100, 0, 0.3);
            min-height: 70px;
            aspect-ratio: 1;
        }

        .option-button:hover {
            background: #006400;
            border-color: #008000;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 100, 0, 0.5);
        }

        .option-button i {
            font-size: 32px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #ffffff;
            border-radius: 16px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .close-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 32px;
            color: #2c3e50;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-button:hover {
            background: #e8f5e8;
            color: #006400;
        }

        .modal-title {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
        }

        .weather-content {
            font-size: 18px;
            color: #2c3e50;
            line-height: 1.8;
        }

        .weather-location {
            margin-bottom: 30px;
            padding: 20px;
            background: #e8f5e8;
            border-radius: 8px;
            border-left: 4px solid #006400;
        }

        .weather-location h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #006400;
        }

        .weather-info {
            font-size: 16px;
        }

        .photos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .photo-item {
            aspect-ratio: 4 / 3;
            overflow: hidden;
            border-radius: 8px;
            border: 2px solid #006400;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .photo-item:hover {
            transform: scale(1.05);
            border-color: #008000;
            box-shadow: 0 6px 20px rgba(0, 100, 0, 0.4);
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .notes-content {
            font-size: 18px;
            color: #2c3e50;
            line-height: 1.8;
        }

        .note-item {
            padding: 20px;
            margin-bottom: 20px;
            background: #e8f5e8;
            border-radius: 8px;
            border-left: 4px solid #006400;
        }

        .loading {
            text-align: center;
            color: #006400;
            font-size: 18px;
            padding: 20px;
        }

        .distance-content {
            font-size: 18px;
            color: #2c3e50;
            line-height: 1.8;
        }

        .distance-info {
            margin-bottom: 30px;
            padding: 20px;
            background: #e8f5e8;
            border-radius: 8px;
            border-left: 4px solid #006400;
        }

        .distance-info h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #006400;
        }

        .map-container {
            width: 100%;
            height: 400px;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 20px;
            border: 2px solid #006400;
        }

        .map-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .music-content {
            font-size: 18px;
            color: #2c3e50;
        }

        .playlist-container {
            margin-bottom: 30px;
            border-radius: 12px;
            border: 2px solid #006400;
            overflow: hidden;
            background: #000000;
        }

        .playlist-container:last-child {
            margin-bottom: 0;
        }

        .playlist-container iframe {
            width: 100%;
            display: block;
            border: none;
        }

        .timeline-content {
            font-size: 18px;
            color: #2c3e50;
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            position: relative;
            padding-left: 40px;
            padding-bottom: 40px;
            border-left: 3px solid #006400;
        }

        .timeline-item:last-child {
            border-left: none;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 0;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #006400;
            border: 3px solid #ffffff;
            box-shadow: 0 0 0 2px #006400;
        }

        .timeline-date {
            font-size: 20px;
            font-weight: bold;
            color: #006400;
            margin-bottom: 8px;
        }

        .timeline-event {
            font-size: 16px;
            color: #2c3e50;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 48px;
                margin-bottom: 40px;
            }

            .options {
                grid-template-columns: repeat(3, 1fr);
                gap: 12px;
                max-width: 100%;
            }

            .option-button {
                padding: 15px;
                font-size: 24px;
                min-height: 60px;
            }

            .modal-content {
                padding: 30px 20px;
            }

            .photos-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>will + jolene</h1>
        <div class="options">
            <button class="option-button" onclick="showWeather()" title="weather"><i class="fas fa-cloud"></i></button>
            <button class="option-button" onclick="showPhotos()" title="photos"><i class="fas fa-camera"></i></button>
            <button class="option-button" onclick="showNotes()" title="notes"><i class="fas fa-sticky-note"></i></button>
            <button class="option-button" onclick="showDistance()" title="distance"><i class="fas fa-map-marker-alt"></i></button>
            <button class="option-button" onclick="showMusic()" title="music"><i class="fas fa-music"></i></button>
            <button class="option-button" onclick="showTimeline()" title="timeline"><i class="fas fa-calendar-alt"></i></button>
        </div>
    </div>

    <!-- Weather Modal -->
    <div id="weatherModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('weatherModal')">&times;</button>
            <h2 class="modal-title">weather</h2>
            <div id="weatherContent" class="weather-content">
                <div class="loading">loading weather...</div>
            </div>
        </div>
    </div>

    <!-- Photos Modal -->
    <div id="photosModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('photosModal')">&times;</button>
            <h2 class="modal-title">photos</h2>
            <div id="photosContent" class="photos-grid"></div>
        </div>
    </div>

    <!-- Notes Modal -->
    <div id="notesModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('notesModal')">&times;</button>
            <h2 class="modal-title">notes</h2>
            <div id="notesContent" class="notes-content">
            </div>
        </div>
    </div>

    <!-- Distance Modal -->
    <div id="distanceModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('distanceModal')">&times;</button>
            <h2 class="modal-title">distance</h2>
            <div id="distanceContent" class="distance-content">
                <div class="loading">loading distance...</div>
            </div>
        </div>
    </div>

    <!-- Music Modal -->
    <div id="musicModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('musicModal')">&times;</button>
            <h2 class="modal-title">music</h2>
            <div id="musicContent" class="music-content">
                <div class="playlist-container">
                    <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/5jE1hOdhcEA9wl7LK8WZDV?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
                <div class="playlist-container">
                    <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/5JhcSZVG1LiAiEUCRvHJPR?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
                <div class="playlist-container">
                    <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/7G5VgdvUREXtiLFPXSi3p3?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Timeline Modal -->
    <div id="timelineModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal('timelineModal')">&times;</button>
            <h2 class="modal-title">timeline</h2>
            <div id="timelineContent" class="timeline-content">
                <div class="timeline-item">
                    <div class="timeline-date">2021</div>
                    <div class="timeline-event">will + jolene met</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">may 2026</div>
                    <div class="timeline-event">will graduation</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">may 2028</div>
                    <div class="timeline-event">jolene graduation</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">2028-onward</div>
                    <div class="timeline-event">tbd</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const images = [
            'images/IMG_0972.jpg',
            'images/IMG_0993.jpg',
            'images/IMG_6354.jpg',
            'images/IMG_6732.jpg',
            'images/IMG_6780.jpg',
            'images/IMG_6786.jpg',
            'images/IMG_6830.jpg',
            'images/IMG_6831.jpg',
            'images/IMG_6832.jpg',
            'images/IMG_9225.jpg',
            'images/IMG_9627.jpg'
        ];

        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Close modal when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        const getWeatherDescription = (code) => {
            const weatherCodes = {
                0: 'Clear sky',
                1: 'Mainly clear',
                2: 'Partly cloudy',
                3: 'Overcast',
                45: 'Foggy',
                48: 'Depositing rime fog',
                51: 'Light drizzle',
                53: 'Moderate drizzle',
                55: 'Dense drizzle',
                61: 'Slight rain',
                63: 'Moderate rain',
                65: 'Heavy rain',
                71: 'Slight snow',
                73: 'Moderate snow',
                75: 'Heavy snow',
                80: 'Slight rain showers',
                81: 'Moderate rain showers',
                82: 'Violent rain showers',
                85: 'Slight snow showers',
                86: 'Heavy snow showers',
                95: 'Thunderstorm',
                96: 'Thunderstorm with slight hail',
                99: 'Thunderstorm with heavy hail'
            };
            return weatherCodes[code] || 'Unknown';
        };

        async function showWeather() {
            showModal('weatherModal');
            const content = document.getElementById('weatherContent');
            content.innerHTML = '<div class="loading">loading weather...</div>';

            try {
                // Harrisonburg, VA
                const harrisonburgUrl = 'https://api.open-meteo.com/v1/forecast?latitude=38.4496&longitude=-78.8689&current=temperature_2m,weather_code,wind_speed_10m&temperature_unit=fahrenheit&wind_speed_unit=mph';
                // Penn State (State College, PA)
                const pennStateUrl = 'https://api.open-meteo.com/v1/forecast?latitude=40.7934&longitude=-77.8600&current=temperature_2m,weather_code,wind_speed_10m&temperature_unit=fahrenheit&wind_speed_unit=mph';

                const [hburgRes, psRes] = await Promise.all([
                    fetch(harrisonburgUrl),
                    fetch(pennStateUrl)
                ]);

                const hburgData = await hburgRes.json();
                const psData = await psRes.json();

                const hburg = hburgData.current;
                const ps = psData.current;

                content.innerHTML = `
                    <div class="weather-location">
                        <h3>harrisonburg, va (will)</h3>
                        <div class="weather-info">
                            <p><strong>temperature:</strong> ${hburg.temperature_2m}°f</p>
                            <p><strong>conditions:</strong> ${getWeatherDescription(hburg.weather_code)}</p>
                            <p><strong>wind speed:</strong> ${hburg.wind_speed_10m} mph</p>
                        </div>
                    </div>
                    <div class="weather-location">
                        <h3>penn state (state college, pa) (jolene)</h3>
                        <div class="weather-info">
                            <p><strong>temperature:</strong> ${ps.temperature_2m}°f</p>
                            <p><strong>conditions:</strong> ${getWeatherDescription(ps.weather_code)}</p>
                            <p><strong>wind speed:</strong> ${ps.wind_speed_10m} mph</p>
                        </div>
                    </div>
                `;
            } catch (error) {
                content.innerHTML = `<div class="loading">error loading weather: ${error.message}</div>`;
            }
        }

        function showPhotos() {
            showModal('photosModal');
            const content = document.getElementById('photosContent');
            content.innerHTML = '';

            images.forEach(imagePath => {
                const photoItem = document.createElement('div');
                photoItem.className = 'photo-item';
                const img = document.createElement('img');
                img.src = imagePath;
                img.alt = 'photo';
                img.loading = 'lazy';
                photoItem.appendChild(img);
                content.appendChild(photoItem);
            });
        }

        function showNotes() {
            showModal('notesModal');
        }

        // Calculate distance between two coordinates using Haversine formula
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 3959; // Earth's radius in miles
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = 
                Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                Math.sin(dLon / 2) * Math.sin(dLon / 2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            return R * c;
        }

        function showDistance() {
            showModal('distanceModal');
            const content = document.getElementById('distanceContent');
            
            // James Madison University coordinates: 38.4344° N, 78.8699° W
            // Penn State University coordinates: 40.7982° N, 77.8599° W
            const jmuLat = 38.4344;
            const jmuLon = -78.8699;
            const pennStateLat = 40.7982;
            const pennStateLon = -77.8599;
            
            // Calculate distance
            const distance = calculateDistance(jmuLat, jmuLon, pennStateLat, pennStateLon);
            const distanceKm = distance * 1.60934; // Convert to kilometers
            
            // Create map using OpenStreetMap with route
            const centerLat = (jmuLat + pennStateLat) / 2;
            const centerLon = (jmuLon + pennStateLon) / 2;
            const mapUrl = `https://www.openstreetmap.org/export/embed.html?bbox=${Math.min(jmuLon, pennStateLon) - 0.5},${Math.min(jmuLat, pennStateLat) - 0.5},${Math.max(jmuLon, pennStateLon) + 0.5},${Math.max(jmuLat, pennStateLat) + 0.5}&layer=mapnik&marker=${jmuLat},${jmuLon}&marker=${pennStateLat},${pennStateLon}`;
            
            content.innerHTML = `
                <div class="distance-info">
                    <h3>james madison university → penn state university</h3>
                    <div class="weather-info">
                        <p><strong>distance:</strong> ${distance.toFixed(1)} miles (${distanceKm.toFixed(1)} km)</p>
                        <p><strong>driving time:</strong> approximately ${Math.round(distance / 60)} hours</p>
                    </div>
                </div>
                <div class="map-container">
                    <iframe
                        src="${mapUrl}"
                        width="100%"
                        height="400"
                        frameborder="0"
                        style="border: 0;"
                        allowfullscreen>
                    </iframe>
                </div>
                <p style="margin-top: 10px; text-align: center; font-size: 14px; color: #666;">
                    <a href="https://www.openstreetmap.org/?mlat=${centerLat}&mlon=${centerLon}&zoom=7" target="_blank" style="color: #006400;">view larger map</a>
                </p>
            `;
        }

        function showMusic() {
            showModal('musicModal');
        }

        function showTimeline() {
            showModal('timelineModal');
        }
    </script>
</body>
</html>
